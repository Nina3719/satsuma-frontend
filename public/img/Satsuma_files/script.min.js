function submitUser(){var a=document.forms[0],b={};return console.log("hi"),a.email.value&&(b.email=a.email.value),a.password.value&&(b.password=a.password.value),a.name.value&&(b.name=a.name.value),a.phoneNumber.value&&(b.phoneNumber=a.phoneNumber.value),a.phoneProvider.value&&(b.phoneProvider=a.phoneProvider.value),a.classYear.value&&(b.classYear=a.classYear.value),b.email?b.password?b.name?b.phoneNumber?b.phoneProvider?b.classYear?b.password!==a.confirm.value?displayError("Passwords do not match"):void fetch("/register",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(b)}).then(function(a){a.json().then(function(b){sessionStorage.setItem("user_id",b.userId),submitSuccess(a)})}).catch(submitError):displayError("Must provide class year"):displayError("Must provide phone provider"):displayError("Must provide phone number"):displayError("Must provide name"):displayError("Must provide password"):displayError("Must provide email")}function getYelp(){const a={location:"cambridge, ma",categories:"restaurants",limit:50,sort_by:"rating",open_now:!0};fetch("/yelptest",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)}).then(function(a){a.ok||a.text().then(function(a){alert(a)}),a.json().then(populateYelp)}).catch(function(a){console.log(a)})}function loginUser(){var a=document.forms[0],b={};return a.email.value&&(b.email=a.email.value),a.password.value&&(b.password=a.password.value),b.email?b.password?(console.log(b),void fetch("/loginUser",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(b)}).then(function(a){a.json().then(function(b){sessionStorage.setItem("user_id",b.userId),submitSuccess(a)})}).catch(submitError)):displayError("Must provide password"):displayError("Must provide email")}function clearForm(){form.reset(),clearError("message");for(var a=document.getElementsByClassName("hidden"),b=0;b<a.length;b++)a[b].style.display=""}function clearError(a){if("message"===a)return document.getElementById("js-error-message").style.visibility="hidden";a.style.border="1px solid #888"}function submitSuccess(a){if(storage=sessionStorage.getItem("user_id"),console.log(storage),console.log("hi"),!a.ok)return submitError(a);window.location="/home"}function submitError(a,b){return a.status>=400&&a.status<500?a.text().then(function(a){displayError(a)}):b?displayError(b):void 0}function displayError(a){var b=document.getElementById("js-error-message");b.innerHTML=a,b.style.visibility="visible"}function populateYelp(a){localStorage.getItem("restaurants")&&localStorage.setItem("restaurants","");var b=JSON.parse(a.body).businesses;localStorage.setItem("restaurants",JSON.stringify(b));for(var c=0;c<b.length;c++){var d=document.createElement("td"),e=document.createElement("th");e.style.borderTopLeftRadius="25px",e.style.borderTopRightRadius="25px",e.innerHTML=b[c].name,d.appendChild(e);var f=document.createElement("tr"),g=document.createElement("img");g.src=b[c].image_url,g.style.width="auto",g.style.height="300px",g.style.borderBottomLeftRadius="25px",g.style.borderBottomRightRadius="25px",f.appendChild(g),d.appendChild(f);for(var h=document.createElement("tr"),i="",j=0;j<b[c].categories.length;j++)i+=b[c].categories[j].title+"; ";h.innerHTML=i,d.appendChild(h);var k=document.createElement("tr");k.innerHTML=b[c].price,d.appendChild("Price: "+k);var l=document.createElement("tr");l.innerHTML=b[c].rating,d.appendChild(l);var m=document.createElement("tr"),n=document.createElement("a"),o=makeButton(n);o.href="/restaurants/"+b[c].id+"/id",o.innerHTML="Eat here!",m.appendChild(o),d.appendChild(m),document.getElementById("yelpTable").appendChild(d)}}function makeButton(a){return a.style.textDecoration="none",a.style.fontFamily="Helvetica",a.style.backgroundColor="#ADA996",a.style.backgroundColor="-webkit-linear-gradient(to right, #EAEAEA, #DBDBDB, #F2F2F2, #ADA996)",a.style.backgroundColor="linear-gradient(to right, #EAEAEA, #DBDBDB, #F2F2F2, #ADA996)",a.style.color="#333333",a.style.padding="2px 6px 2px 6px",a.style.borderTop="1px solid #CCCCCC",a.style.borderRight="1px solid #333333",a.style.borderBottom="1px solid #333333",a.style.borderLeft="1px solid #CCCCCC",a.style.borderRadius="16px",a.style.borderColor="transparent",a.style.boxShadow="2.5px 5px #888888",a}function loadRestaurant(a){loggedIn=sessionStorage.getItem("user_id"),loggedIn||(window.location="/");var b=JSON.parse(localStorage.getItem("restaurants")),c=b.filter(function(b){return b.id===a}),d=c[0],e=document.getElementById("restaurantInfo"),f=document.createElement("div");f.innerHTML=d.name,e.appendChild(f);var g=document.createElement("div"),h=document.createElement("img");h.src=d.image_url,h.style.width="auto",h.style.height="300px",g.appendChild(h),e.appendChild(g);for(var i=document.createElement("div"),j="",k=0;k<d.categories.length;k++)j+=d.categories[k].title+"; ";i.innerHTML=j,e.appendChild(i);var l=document.createElement("div");l.innerHTML=d.price,e.appendChild(l);var m=document.createElement("div");m.innerHTML=d.rating,e.appendChild(m);for(var n=document.createElement("div"),o="",p=0;p<d.location.display_address.length;p++)o+=d.location.display_address[p]+", ";n.innerHTML=o,e.appendChild(n);var q=document.createElement("div");q.innerHTML=d.display_phone,e.appendChild(q);var r=document.createElement("div"),s=document.createElement("a");s.href=d.url,s.innerHTML="Go to restaurant's website!",r.appendChild(s),e.appendChild(r)}function makeAppointment(a){console.log("hi");var b=document.forms[0];console.log(a);var c=b.appointment_time.value;console.log(c)}